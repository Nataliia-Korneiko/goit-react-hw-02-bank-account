{"version":3,"sources":["components/TransactionHistory/transactionHistory.module.css","components/Dashboard/dashboard.module.css","components/Controls/Controls.js","components/Balance/Balance.js","components/TransactionHistory/TransactionHistory.js","components/Dashboard/Dashboard.js","components/App.js","index.js","components/Controls/controls.module.css","components/Balance/balance.module.css"],"names":["module","exports","Controls","handleChange","onDeposit","onWithdraw","className","s","controls","onChange","controls__input","type","name","min","onClick","controls__button","Balance","balance","income","expenses","total__deposit","total__withdraw","total__balance","TransactionHistory","transactions","history","history__header","map","el","key","id","history__deposit","amount","date","Dashboard","state","handleDeposit","toast","warn","position","POSITION","TOP_RIGHT","setState","prevState","changeTransactions","handleWithdraw","error","e","console","log","target","value","newTransactions","uuid","Date","toLocaleString","this","reduce","acc","newAcc","dashboard","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.21be6d3e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"history\":\"transactionHistory_history__PcYRV\",\"history__header\":\"transactionHistory_history__header__1dd45\",\"history__deposit\":\"transactionHistory_history__deposit__V5Imf\",\"history__withdrawal\":\"transactionHistory_history__withdrawal__ptqDG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"dashboard_dashboard__YJDw9\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './controls.module.css';\n\nconst Controls = ({ handleChange, onDeposit, onWithdraw }) => (\n  <section className={s.controls}>\n    <input\n      onChange={handleChange}\n      className={s.controls__input}\n      type=\"number\"\n      name=\"amount\"\n      min=\"0\"\n    />\n    <button onClick={onDeposit} className={s.controls__button} type=\"button\">\n      Deposit\n    </button>\n    <button onClick={onWithdraw} className={s.controls__button} type=\"button\">\n      Withdraw\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  onDeposit: PropTypes.func.isRequired,\n  onWithdraw: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './balance.module.css';\n\nconst Balance = ({ balance, income, expenses }) => (\n  <section className={s.balance}>\n    <span className={s.total__deposit}>&#8593;{income}$</span>\n    <span className={s.total__withdraw}>&#8595;{expenses}$</span>\n    <span className={s.total__balance}>Balance: {balance}$</span>\n  </section>\n);\n\nBalance.propTypes = {\n  balance: PropTypes.number.isRequired,\n  income: PropTypes.number.isRequired,\n  expenses: PropTypes.number.isRequired,\n};\n\nexport default Balance;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './transactionHistory.module.css';\n\nconst TransactionHistory = ({ transactions }) => (\n  <table className={s.history}>\n    <thead>\n      <tr className={s.history__header}>\n        <th>Transaction</th>\n        <th>Amount</th>\n        <th>Date</th>\n      </tr>\n    </thead>\n    <tbody>\n      {transactions.map(el => (\n        <tr key={el.id} className={s.history__deposit}>\n          <td>{el.type}</td>\n          <td>{el.amount}</td>\n          <td>{el.date}</td>\n        </tr>\n      ))}\n    </tbody>\n  </table>\n);\n\nTransactionHistory.propTypes = {\n  transactions: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string,\n      type: PropTypes.string,\n      amount: PropTypes.number,\n      date: PropTypes.string,\n    }),\n  ).isRequired,\n};\n\nexport default TransactionHistory;\n","/* eslint-disable no-alert */\n/* eslint-disable consistent-return */\nimport React, { Component } from 'react';\nimport uuid from 'uuid/v1';\nimport { ToastContainer, toast } from 'react-toastify';\nimport s from './dashboard.module.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Controls from '../Controls/Controls';\nimport Balance from '../Balance/Balance';\nimport TransactionHistory from '../TransactionHistory/TransactionHistory';\n\nexport default class Dashboard extends Component {\n  state = {\n    transactions: [],\n    amount: 0,\n    balance: 0,\n  };\n\n  handleDeposit = () => {\n    const { amount } = this.state;\n    if (amount === 0 || amount < 0) {\n      return toast.warn('Введите сумму для проведения операции!', {\n        position: toast.POSITION.TOP_RIGHT,\n      });\n    }\n\n    this.setState(prevState => ({\n      balance: prevState.balance + prevState.amount,\n    }));\n    this.changeTransactions('DEPOSIT');\n  };\n\n  handleWithdraw = () => {\n    const { balance } = this.state;\n    const { amount } = this.state;\n\n    if (amount === 0 || amount < 0) {\n      return toast.warn('Введите сумму для проведения операции!', {\n        position: toast.POSITION.TOP_RIGHT,\n      });\n    }\n\n    if (balance < amount) {\n      return toast.error(\n        'На счету недостаточно средств для проведения операции!',\n        {\n          position: toast.POSITION.TOP_RIGHT,\n        },\n      );\n    }\n\n    this.setState(prevState => ({\n      balance: prevState.balance - prevState.amount,\n    }));\n    this.changeTransactions('WITHDRAW');\n  };\n\n  handleChange = e => {\n    console.log('e.target :', e.target);\n    const { name, value } = e.target;\n\n    this.setState({ [name]: +value });\n  };\n\n  changeTransactions = type => {\n    const { amount } = this.state;\n    const newTransactions = {\n      id: uuid(),\n      type,\n      amount,\n      date: new Date().toLocaleString(),\n    };\n\n    this.setState(state => ({\n      transactions: [...state.transactions, newTransactions],\n    }));\n  };\n\n  render() {\n    const { transactions } = this.state;\n    const { balance } = this.state;\n    const income = transactions.reduce((acc, el) => {\n      let newAcc = acc;\n      if (el.type === 'DEPOSIT') newAcc = acc + el.amount;\n      return newAcc;\n    }, 0);\n\n    // console.log('income', income);\n\n    const expenses = transactions.reduce((acc, el) => {\n      let newAcc = acc;\n      if (el.type === 'WITHDRAW') newAcc = acc + el.amount;\n      return newAcc;\n    }, 0);\n\n    // console.log('expenses', expenses);\n\n    return (\n      <div className={s.dashboard}>\n        <Controls\n          handleChange={this.handleChange}\n          onDeposit={this.handleDeposit}\n          onWithdraw={this.handleWithdraw}\n        />\n        <Balance balance={balance} income={income} expenses={expenses} />\n        <TransactionHistory transactions={transactions} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Dashboard from './Dashboard/Dashboard';\n\nclass App extends Component {\n  state = {};\n\n  render() {\n    return (\n      <>\n        <Dashboard />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"controls_controls__-nQ4t\",\"controls__input\":\"controls_controls__input__375a0\",\"controls__button\":\"controls_controls__button__2uJ0p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"balance_balance__3lJy1\",\"total__deposit\":\"balance_total__deposit__2waNt\",\"total__withdraw\":\"balance_total__withdraw__3g6SQ\",\"total__balance\":\"balance_total__balance__K-6zU\"};"],"sourceRoot":""}